<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>plus</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
</head>

<body class="p-4">

    <h3>اختر الصف</h3>

    <label class="me-3">
        <input type="radio" name="grade" value="ola"> اولى
    </label>

    <label class="me-3">
        <input type="radio" name="grade" value="tanya"> ثانيه
    </label>

    <label class="me-3">
        <input type="radio" name="grade" value="talta"> ثالثه
    </label>

    <label class="me-3">
        <input type="radio" name="grade" value="rabaa"> رابعه
    </label>

    <!-- ✅ الصف الخامس -->
    <label class="me-3">
        <input type="radio" name="grade" value="khamsa"> خامسه
    </label>

    <!-- ✅ الصف السادس -->
    <label class="me-3">
        <input type="radio" name="grade" value="sata"> سادسه
    </label>

    <hr>

    <div class="mb-3">
        <label>عنوان الكارد</label>
        <input type="text" id="title" class="form-control">
    </div>

    <div class="mb-3">
        <label>الرابط</label>
        <input type="text" id="link" class="form-control">
    </div>

    <button class="btn btn-primary" onclick="createCard()">إنشاء الكارد</button>

    <script>
        function createCard() {

            const grade = document.querySelector('input[name="grade"]:checked');
            const titleInput = document.getElementById("title");
            const linkInput = document.getElementById("link");

            const title = titleInput.value.trim();
            const link = linkInput.value.trim();

            if (!grade) {
                alert("اختر الصف أولاً");
                return;
            }

            if (!title || !link) {
                alert("اكتب العنوان والرابط");
                return;
            }

            // اسم التخزين حسب الصف
            const storageKey = grade.value + "Cards";

            // جلب البيانات القديمة
            let cards = JSON.parse(localStorage.getItem(storageKey)) || [];

            // إضافة الكارد الجديد
            cards.push({ title, link });

            // حفظ مرة أخرى
            localStorage.setItem(storageKey, JSON.stringify(cards));

            // مسح الحقول
            titleInput.value = "";
            linkInput.value = "";

            // الانتقال للصف بدون باراميترات
            window.location.href = grade.value + ".html?admin=123";
        }
    </script>

</body>

</html>